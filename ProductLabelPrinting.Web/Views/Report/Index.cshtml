
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-4">
        <h3>Customers Report</h3>
    </div>
</div>
<hr />
<div class="row">
    
    <div class="col-md-3">
        <button type="button" id="btnSearch" class="btn btn-raised btn-primary btn-block">Get Report</button>
    </div>
</div>
<div class="row" id="divReport">
</div>
<script>

$(function() {
     $('#btnSearch').click(function() {

         const urlParams = new URLSearchParams(window.location.search);
         const myParam = urlParams.get('productId');
         const myParam1 = urlParams.get('batchId');

         var searchText = "productId=" + myParam + "&batchId=" + myParam1 + "";

          //ASPX page URL to load report
         var src = "../Reports/BarcodeReport.aspx?productId=" + myParam + "&batchId=" + myParam1 + "";
          //We can add parameters here
         // src = src + "searchText=" + searchText

          //We can append more than one parameter like below
          //var companyId = 1
          //srcsrc = src + "compnayID=" + companyId

          //Create a dynamic iframe here and append this to div tag
          var iframe = '<iframe id="reportFrame" width="100%" height="800px" scrolling="no" frameborder="0" src="' + src + '" allowfullscreen></iframe>';
          $("#divReport").html(iframe);
     });
});
</script>

